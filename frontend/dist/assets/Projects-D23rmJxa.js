import{r as c,A as y,d as w,j as e,R as v,m as b,f as N,N as k,g as P,h as o,i as E,k as R}from"./index-Bl86fJiH.js";function A(){const[l,d]=c.useState("All"),[h,i]=c.useState(null),r=c.useContext(y);function m(){return R({method:"get",endpoint:"/api/v2/projects/list",body:"",id:""})}const{isLoading:x,data:t,isError:g,refetch:p}=w({queryKey:["projects"],queryFn:m});function u({isActive:s}){const n=s?(r==null?void 0:r.theme)==="dark"?"bg-accent/60 text-white":"bg-accent text-white  ":"bg-accent/10";return E("text-sm sm:hover:bg-accent/40 md:hover:text-accent rounded-lg trans snap-start px-6 py-1.5",n)}if(c.useEffect(()=>{function s(){if(t!=null&&t.projects&&l!=="All"){const n=t==null?void 0:t.projects.filter(a=>a.category===l);return i(n)}if(t!=null&&t.projects)return i(t==null?void 0:t.projects)}return t!=null&&t.projects&&s(),()=>{}},[l]),x)return e.jsx(v,{});if(g)return e.jsx("div",{className:"h-screen grid place-items-center text-center",children:e.jsxs("div",{children:[e.jsx("h2",{className:"heading3",children:"Error fetching projects"}),e.jsx("p",{children:"Please try again later"}),e.jsx("button",{className:"bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 mt-1 px-4 py-1 rounded cursor-pointer",onClick:()=>p(),children:"Retry"})]})});if(!(t!=null&&t.projects)||(t==null?void 0:t.projects.length)<1)return e.jsx("div",{className:"h-screen grid place-items-center text-center",children:e.jsxs("div",{children:[e.jsx("h2",{className:"heading3",children:"No Projects"}),e.jsx("p",{children:"Please try again later"})]})});const j=h||(t==null?void 0:t.projects);return e.jsxs(b.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5,delay:.4},className:"min-h-screen trans ",children:[e.jsxs("div",{className:" text-center lg:w-[80%] mx-auto  ",children:[e.jsx("h1",{className:" heading3 mano",children:"OUR PROJECTS"}),e.jsx("p",{className:"text-gray-600 dark:text-white/80",children:"Each project we take on is driven by a deep understanding of our clientsâ€™ goals, ensuring that we create solutions that have a lasting impact."})]}),e.jsx("section",{className:`overflow-x-scroll hide-scrollbar\r
      snap-x snap-mandatory\r
       md:overflow-hidden my-8 md:w-[90%] lg:w-[60%] mx-1.5 md:mx-auto bg-gray-200/50 dark:bg-gray-800/40  rounded-lg`,children:e.jsx("ul",{className:`justify-between py-3 gap-4 flex items-center \r
       m-auto p-3 rounded-full `,children:N.map((s,n)=>{const a=s.name,f=s.path;return e.jsx(k,{onClick:()=>d(a),to:f,className:u,children:a},n)})})}),e.jsx("div",{className:"grid grid-cols-1 mt-12 md:grid-cols-2 xl:grid-cols-3 md:gap-4 lg:gap-12 justify-self-center-safe 2xl:gap-24",children:j.map(s=>e.jsxs("article",{className:"rounded-lg shadow-accent/50  trans mx-8 md:w-[350px] lg:w-[360px] 2xl:w-[400px] group  hover:shadow-lg overflow-hidden my-8",children:[e.jsx(P.LazyLoadImage,{className:"min-w-full  h-60 xl:h-52 2xl:h-60 outline-none bg-gray-20 group-hover:scale-105 trans",alt:o,effect:"blur","aria-label":"Project photo",loading:"lazy",wrapperProps:{style:{transition:"1s"}},src:s.photos.length>0?s.photos[0]:o}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-900/50",children:[e.jsx("h2",{className:"font-bold text-xl mt-4 mb-2",children:s.projectName}),e.jsx("p",{className:"text-gray-500",children:s.description}),e.jsxs("button",{onClick:()=>r==null?void 0:r.navigate(`/workDetails/${s._id}`),title:"View Project",className:"my-4 text-bold md:w-30 text-nowrap md:hover:w-35 shadow-md border border-gray-500 px-5 text-sm rounded-full py-1.5 flex items-center gap-2 cursor-pointer trans hover:bg-black hover:text-white",children:[e.jsx("p",{children:"View Project"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",className:"rotate-180 size-4 fill-accent",children:e.jsx("path",{d:"M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z"})})," "]})]})]},s._id))})]})}export{A as default};
