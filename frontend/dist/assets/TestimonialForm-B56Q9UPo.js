import{r as n,A as w,j as e,v as q,a as N,y as d,b as A}from"./index-B5MBE_Gz.js";const T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAfRJREFUSEvlVT1rG0EQnRGLBI4i243g8M4RoyaFSdrYuAwEgyEkP8OVi1RJk4DtLkUq/4skENJEuPRHmRQqUghFuyshVFgOlgqdkNbsWStOl7s9RHDl63Z35r2Z92ZvEe74wzvGh3tCIIQ4QMR3MTk/ENH7LImdEimlnmqtf7pAGGMbnufV0mJSCVqt1tZkMjmdJp4HQbBTqVT+mnW32y0Oh8MqADwza8bYuud5f5JIUgmklHqa8JqIviQlSylfAcBnc0ZEiViJm0KIQ0R8CwAXRLTpkkhKeQYAm1rrI9/34z79O6ZSyq8A8NKAFgqFh+Vyue8iqNfry/l8/iqti1kHUso1AFBRsLS2TYyRMAiCFeOLlTMpPkpgNf9BRC8yZLGxAyIqRvwCRPzIOX9j80MCpdQ3rfUuIp5yzrftYaPReMQYOyGiit2LgIXgtptYQddEVDJ7IUFaixGw30T0OAk8Ctzr9Vb6/X4vBEY85pzvOQna7fbSeDwexKqbVZ4kY7PZXM3lcpfWdCeBCYqROMHjMhrTQwIhRBURn8c9sAlTkq7V3DUAtVqtWCqVruc66HQ6D0ajkZ33zClKI4h6oLU+9n3/1oOp0U8A4JerukXO7J2Y+1VorVEp9R0AdhYBi8V+IqL9uXvwH2CZqffkyczUwRFwAypV2hnxmyOAAAAAAElFTkSuQmCC";function R(){const l=n.useContext(w),[r,s]=n.useState({clientName:"",emailAddress:"",projectName:"",message:"",rating:"",photo:null}),[u,i]=n.useState(""),[m,c]=n.useState(!1),[v,h]=n.useState({photo:!1}),y=m||r.message.length<20||r.rating.length<1||r.projectName.length<5;function b(){i(""),s({clientName:"",emailAddress:"",projectName:"",message:"",rating:"",photo:null})}const f=async t=>{var o,p;if(t.preventDefault(),!m){i(""),c(!0),h({photo:!1});try{if(r.photo&&((o=r.photo)==null?void 0:o.size)>3*1024*1024)return h({photo:!0}),i("Photo is more than 3Mb.");const a=new FormData;a.append("clientName",r.clientName),a.append("projectName",r.projectName),a.append("emailAddress",r.emailAddress),a.append("message",r.message),a.append("rating",r.rating),r.photo&&a.append("photo",r.photo);const{data:g}=await N.post((l==null?void 0:l.baseUrl)+"/api/v2/testimonials/create",a);console.log(g);const{success:j,message:x}=g;if(j)return d.success(x),setTimeout(()=>l==null?void 0:l.navigate("/"),1e3);i(x)}catch(a){a instanceof Error&&d.error(a.message),a instanceof A&&d.error((p=a.response)==null?void 0:p.data.message)}finally{c(!1),b()}}};return e.jsxs("div",{className:"min-h-screen ",children:[e.jsx("h1",{className:"heading3 mano text-center",children:"YOUR TESTIMONY MATTERS US"}),e.jsxs("div",{className:"flex flex-col gap-8 md:flex-row p-5 justify-around items-center md:items-start mt-5",children:[e.jsx("div",{className:" w-sm lg:w-lg h-92 ",children:e.jsx("img",{src:q,className:"size-full rounded-lg shadow-md",alt:""})}),e.jsxs("form",{id:"form",onSubmit:f,className:"bg-white dark:bg-black border shadow text-sm border-gray-200 dark:border-gray-900 w-sm rounded-sm p-4 px-8",children:[e.jsx("h3",{className:"heading3",children:"Logo"}),e.jsx("h2",{className:"font-medium text-lg",children:"Testimony"}),e.jsx("p",{className:"text-gray-500",children:"We are happy to see your testimony"}),e.jsxs("div",{title:"Add image",className:`mt-8  rounded-sm cursor-pointer border ${v.photo?"border-red-500":"border-gray-400 dark:border-gray-800"}`,children:[e.jsx("input",{type:"file",accept:"image/*",name:"photo",onChange:t=>{var o;return s({...r,photo:(o=t.target)==null?void 0:o.files[0]})},hidden:!0,id:"image"}),e.jsxs("label",{htmlFor:"image",className:"w-full text-nowrap cursor-pointer flex items-center",children:[e.jsx("img",{src:r.photo?URL.createObjectURL(r.photo):T,className:"object-cover shadow  size-16 border-gray-800 rounded-sm mr-5",alt:"image icon"}),e.jsxs("div",{children:[e.jsxs("p",{children:["Add photo"," ",e.jsx("span",{className:"italic text-gray-500 ",children:"(optional)"})]}),r.photo&&e.jsxs("button",{onClick:()=>s({...r,photo:null}),title:"Delete Photo",className:"mt-2 text-gray-600 dark:text-gray-400 cursor-pointer hover:underline flex gap-2",children:["Remove photo",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",className:"size-5",width:"24px",fill:"gray",children:e.jsx("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"})})]})]})]})]}),e.jsxs("div",{className:"border border-gray-400 dark:border-gray-800 rounded-full px-5 py-1.5 flex items-center gap-2 my-3 mt",children:[e.jsx("label",{htmlFor:"clientName",className:"sr-only",children:"Full Name"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"gray",children:e.jsx("path",{d:"M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"})}),e.jsx("input",{type:"text",id:"clientName",name:"clientName",required:!0,autoComplete:"name",placeholder:"John Doe",value:r.clientName,onChange:t=>s({...r,clientName:t.target.value}),className:"outline-none bordoer-none w-full bg-transparent"})]}),e.jsxs("div",{className:"border border-gray-400 dark:border-gray-800 rounded-full px-5 py-1.5 flex items-center gap-2 mb-4",children:[e.jsx("label",{htmlFor:"projectName",className:"sr-only",children:"Project Name"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"gray",children:e.jsx("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h168q13-36 43.5-58t68.5-22q38 0 68.5 22t43.5 58h168q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm80-80h280v-80H280v80Zm0-160h400v-80H280v80Zm0-160h400v-80H280v80Zm200-190q13 0 21.5-8.5T510-820q0-13-8.5-21.5T480-850q-13 0-21.5 8.5T450-820q0 13 8.5 21.5T480-790ZM200-200v-560 560Z"})}),e.jsx("input",{type:"text",required:!0,name:"projectName",id:"projectName",placeholder:"Project name",value:r.projectName,onChange:t=>s({...r,projectName:t.target.value}),className:"outline-none bordoer-none w-full bg-transparent"})]}),e.jsxs("div",{className:"border border-gray-400 dark:border-gray-800 rounded-full px-5 py-1.5 flex items-center gap-2 mb-4",children:[e.jsx("label",{htmlFor:"projectName",className:"sr-only",children:"Email address"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"gray",children:e.jsx("path",{d:"M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-280L160-640v400h640v-400L480-440Zm0-80 320-200H160l320 200ZM160-640v-80 480-400Z"})}),e.jsx("input",{type:"email",required:!0,name:"emailAddress",id:"emailAddress",placeholder:"Email address",autoComplete:"email",value:r.emailAddress,onChange:t=>s({...r,emailAddress:t.target.value}),className:"outline-none bordoer-none w-full bg-transparent"})]}),e.jsxs("div",{className:"border border-gray-400 dark:border-gray-800 rounded-full px-5 py-1.5 flex items-center gap-2 mb-4",children:[e.jsx("label",{htmlFor:"rating",className:"sr-only",children:"Rating"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"gray",children:e.jsx("path",{d:"m387-412 35-114-92-74h114l36-112 36 112h114l-93 74 35 114-92-71-93 71ZM240-40v-309q-38-42-59-96t-21-115q0-134 93-227t227-93q134 0 227 93t93 227q0 61-21 115t-59 96v309l-240-80-240 80Zm240-280q100 0 170-70t70-170q0-100-70-170t-170-70q-100 0-170 70t-70 170q0 100 70 170t170 70ZM320-159l160-41 160 41v-124q-35 20-75.5 31.5T480-240q-44 0-84.5-11.5T320-283v124Zm160-62Z"})}),e.jsx("input",{type:"number",id:"rating",name:"rating",required:!0,placeholder:"Rating",min:1,max:5,maxLength:1,value:r.rating,onChange:t=>s({...r,rating:t.target.value}),className:"outline-none bordoer-none w-full bg-transparent"})]}),e.jsxs("div",{className:"border border-gray-400 dark:border-gray-800 rounded-2xl px-5 py-1.5 flex items-center gap-2 mb-4",children:[e.jsx("label",{htmlFor:"message",className:"sr-only",children:"Testimony"}),e.jsx("textarea",{id:"message",name:"message",required:!0,placeholder:"Tesitmony message",rows:5,value:r.message,onChange:t=>s({...r,message:t.target.value}),className:"outline-none bordoer-none w-full bg-transparent resize-none placeholder:text-accent"})]}),e.jsx("button",{disabled:y,type:"submit",className:"w-full disabled:bg-gray-400 flex items-center justify-center disabled:cursor-auto gap-4 bg-accent mb-3 hover:opacity-60 text-white cursor-pointer rounded-full py-2 trans",children:m?"Loading....":e.jsxs("p",{className:"flex items-center gap-2",children:["Send Testimony",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e3e3e3",children:e.jsx("path",{d:"M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"})})]})}),e.jsx("p",{className:"text-red-500 text-center h-6 text-sm overflow-hidden",children:u})]})]})]})}export{R as default};
