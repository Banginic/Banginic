import{r as l,A as w,d as b,j as e,R as y,m as v,f as N,N as k,g as P,h as o,i as E,k as R}from"./index-B3yFCAoT.js";function A(){const[c,d]=l.useState("All"),[x,a]=l.useState(null),i=l.useContext(w);function h(){return R({method:"get",endpoint:"/api/v2/projects/list",body:"",id:""})}const{isLoading:p,data:t,isError:m,refetch:u}=b({queryKey:["projects"],queryFn:h});function g({isActive:s}){return E("rounded-lg trans snap-start px-6 py-3",s?"bg-pink-400 text-white":"bg-accent/20 hover:bg-accent/40 text-white  ")}if(l.useEffect(()=>{function s(){if(t!=null&&t.projects&&c!=="All"){const r=t==null?void 0:t.projects.filter(n=>n.category===c);return a(r)}if(t!=null&&t.projects)return a(t==null?void 0:t.projects)}return t!=null&&t.projects&&s(),()=>{}},[c]),p)return e.jsx(y,{});if(m)return e.jsx("div",{className:"h-screen grid place-items-center text-center",children:e.jsxs("div",{children:[e.jsx("h2",{className:"heading3",children:"Error fetching projects"}),e.jsx("p",{children:"Please try again later"}),e.jsx("button",{className:"border mt-1 px-4 py-1 rounded cursor-pointer",onClick:()=>u(),children:"Retry"})]})});if(!(t!=null&&t.projects)||(t==null?void 0:t.projects.length)<1)return e.jsx("div",{className:"h-screen grid place-items-center text-center",children:e.jsxs("div",{children:[e.jsx("h2",{className:"heading3",children:"No Projects"}),e.jsx("p",{children:"Please try again later"})]})});const j=x||(t==null?void 0:t.projects);return e.jsxs(v.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5,delay:.4},className:"min-h-screen trans ",children:[e.jsxs("div",{className:" text-center lg:w-[80%] mx-auto  ",children:[e.jsx("h1",{className:" text-4xl md:text-5xl font-bold bg-gradient-to-r mb-2 from-accent via-pink-400 to-blue-400 bg-clip-text text-transparent montserrat text-center",children:"OUR PROJECTS"}),e.jsx("p",{className:"max-w-xl text-center mx-auto text-[18px] px-2",children:"Each project we take on is driven by a deep understanding of our clientsâ€™ goals, ensuring that we create solutions that have a lasting impact."})]}),e.jsx("section",{className:`overflow-x-scroll hide-scrollbar\r
      snap-x snap-mandatory\r
       md:overflow-hidden my-8 md:w-[90%] lg:w-[60%] mx-1.5 md:mx-auto bg-white/20 backdrop:blur-sm  md:rounded-lg `,children:e.jsx("ul",{className:`justify-around md:justify-between py-3 gap-4 flex items-center \r
       m-auto p-3 rounded-full `,children:N.map((s,r)=>{const n=s.name,f=s.path;return e.jsx(k,{onClick:()=>d(n),to:f,className:g,children:n},r)})})}),e.jsx("div",{className:"grid grid-cols-1 mt-12 md:grid-cols-2 xl:grid-cols-3 md:gap-4 lg:gap-12 justify-self-center-safe 2xl:gap-24",children:j.map(s=>e.jsxs("article",{className:"rounded-lg shadow-accent/50  trans mx-8 md:w-[350px] lg:w-[360px] 2xl:w-[400px] group md:h-[430px] border hover:shadow-lg overflow-hidden my-8",children:[e.jsx(P.LazyLoadImage,{className:"min-w-full  h-60 xl:h-52 2xl:h-60 outline-none bg-gray-20 group-hover:scale-105 trans",alt:o,effect:"blur","aria-label":"Project photo",loading:"lazy",wrapperProps:{style:{transition:"1s"}},src:s.photos.length>0?s.photos[0]:o}),e.jsxs("div",{className:"p-4 bg-white backdrop:blur-lg h-full ",children:[e.jsx("h2",{className:"font-bold text-xl mt-4 mb-2 text-black",children:s.projectName}),e.jsx("p",{className:"text-gray-600",children:s.description}),e.jsxs("button",{onClick:()=>i==null?void 0:i.navigate(`/workDetails/${s._id}`),title:"View Project",className:"my-4 text-bold bg-black md:w-30 text-nowrap md:hover:w-35 shadow-md border border-gray-500 px-5 text-sm rounded-full py-1.5 flex items-center gap-2 cursor-pointer trans hover:bg-black hover:text-white",children:[e.jsx("p",{children:"View Project"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",className:"rotate-180 size-4 fill-accent",children:e.jsx("path",{d:"M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z"})})," "]})]})]},s._id))})]})}export{A as default};
